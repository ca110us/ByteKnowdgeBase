(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{175:function(a,s,t){"use strict";t.r(s);var e=t(0),n=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"iptables-使用指南"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#iptables-使用指南","aria-hidden":"true"}},[a._v("#")]),a._v(" Iptables 使用指南")]),a._v(" "),t("h2",{attrs:{id:"常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用命令","aria-hidden":"true"}},[a._v("#")]),a._v(" 常用命令")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("查看INPUT的规则，并显示行号")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("iptables -L INPUT --line-numbers\n")])])])]),a._v(" "),t("li",[t("p",[a._v("显示详细规则")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("iptables -L -nv\n")])])])]),a._v(" "),t("li",[t("p",[a._v("删除规则")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("iptables -D INPUT 4\n")])])])]),a._v(" "),t("li",[t("p",[a._v("禁止IP")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("iptables -I INPUT -s "),t("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("IP"),t("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" -j DROP\n")])])])]),a._v(" "),t("li",[t("p",[a._v("允许来自某个IP访问某个TCP端口")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("iptables -A INPUT -p TCP -s "),t("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("SOURCE_IP"),t("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" --dport "),t("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v("DEST_PORT"),t("span",{attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" -j ACCEPT\n")])])])])]),a._v(" "),t("h2",{attrs:{id:"常用配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用配置","aria-hidden":"true"}},[a._v("#")]),a._v(" 常用配置")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("iptables -P INPUT ACCEPT\niptables -F\niptables -A INPUT -m conntrack --ctstate ESTABLISHED,RELATED -j ACCEPT\niptables -A INPUT -i lo -j ACCEPT\niptables -A INPUT -p TCP --dport 80 -j ACCEPT\niptables -A INPUT -p TCP --dport 22 -j ACCEPT\niptables -A INPUT -p icmp -j ACCEPT\niptables -P INPUT DROP\n")])])])])}],!1,null,null,null);n.options.__file="linux-iptables.md";s.default=n.exports}}]);